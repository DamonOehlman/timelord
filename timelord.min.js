(function(a){function g(a,b){typeof a=="number"?(this.days=a||0,this.seconds=b||0):typeof a!="undefined"&&(this.days=a.d||a.days||0,this.seconds=a.s||a.seconds||0),this.normalize()}function j(a){if(f.test(a))return c[8601]}function k(a,b){var d=c[b]||j(a);if(!d)throw new Error("No parser found for the duration: "+a);return d(a)}function l(a){if(typeof a=="string"||a instanceof String){var b=j(a);if(b)return b(a);var c=e.exec(a);return new g(parseInt(c[1],10),parseInt(c[2],10))}return typeof a=="object"?new g(a):undefined}var b=86400,c={},d=/^[\+\-]/,e=/^([\d\.]+)d\s*([\d\.]*)s?$/,f=/^PT?\d+/;g.prototype.add=function(){var a=new g(this.days,this.seconds);for(var b=arguments.length;b--;)a.days+=arguments[b].days,a.seconds+=arguments[b].seconds;return a.normalize()},g.prototype.clone=function(){return new g(this.days,this.seconds)},g.prototype.normalize=function(){var a=this.seconds/b|0;return this.days+=a,this.seconds%=b,this},g.prototype.ticks=function(){return(this.days*b+this.seconds)*1e3},g.prototype.toString=function(a){var b;return this.normalize(),format||(b=this.days+"d"+this.seconds+"s"),b};var h=/^P(\d+Y)?(\d+M)?(\w+W)?(\d+D)?$/,i=/^(\d+H)?(\d+M)?(\d+S)?$/;c[8601]=function(a){var b=a.split("T"),c=null,d=null,e=0,f=0;return h.lastIndex=-1,c=h.exec(b[0]),c&&(e+=c[3]?parseInt(c[3].slice(0,-1),10)*7:0,e+=c[4]?parseInt(c[4].slice(0,-1),10):0),i.lastIndex=-1,d=i.exec(b[1]),d&&(f+=d[1]?parseInt(d[1].slice(0,-1),10)*3600:0,f+=d[2]?parseInt(d[2].slice(0,-1),10)*60:0,f+=d[3]?parseInt(d[3].slice(0,-1),10):0),new g(e,f)},typeof module!="undefined"&&module.exports?module.exports=l:typeof define!="undefined"?define("timelord",[],function(){return l}):a.timelord=l})(this)